# ================================================================
# ğŸ“ MMOSpawnPoint Configuration Examples
#
# ğŸ’¬ All messages support MiniMessage formatting!
#     â†’ Examples: <red>Error!</red>, <green>Success!</green>
#     â†’ Web editor: https://webui.advntr.dev/
#
# ğŸŒ LOCALIZATION NOTE:
#     Direct localization is not supported in this plugin.
#     If you need multi-language support, use Triton plugin:
#     â†’ https://www.spigotmc.org/resources/triton.30331/
# ================================================================


# ================================================================
# ğŸ“ PROFESSIONAL FOLDER STRUCTURE (Recommended Organization)
# ================================================================
# Place your configs in: plugins/MMOSpawnPoint/spawnpoints/
#
# ORGANIZATION STRATEGY: WORLD â†’ FEATURE â†’ SPECIFIC AREA
# Maximum depth: 9 nested folders (config.yml: settings.maintenance.maxFolderDepth)
# Each .yml file MUST contain a top-level key: "spawns"
#
# spawnpoints/
# â”œâ”€â”€ world/                    # ğŸŒ Overworld spawns
# â”‚   â”œâ”€â”€ cities/              # ğŸ™ï¸ Urban areas
# â”‚   â”‚   â”œâ”€â”€ spawn-city.yml         # Main spawn city
# â”‚   â”‚   â”œâ”€â”€ trade-district.yml     # Commercial area
# â”‚   â”‚   â””â”€â”€ residential.yml       # Housing districts
# â”‚   â”œâ”€â”€ dungeons/            # âš”ï¸ PvE content
# â”‚   â”‚   â”œâ”€â”€ forest/
# â”‚   â”‚   â”‚   â”œâ”€â”€ entrance-checkpoint.yml
# â”‚   â”‚   â”‚   â”œâ”€â”€ boss-arena.yml
# â”‚   â”‚   â”‚   â””â”€â”€ treasure-room.yml
# â”‚   â”‚   â”œâ”€â”€ desert/
# â”‚   â”‚   â”‚   â”œâ”€â”€ temple-spawns.yml
# â”‚   â”‚   â”‚   â””â”€â”€ pyramid-levels.yml
# â”‚   â”‚   â””â”€â”€ underwater/
# â”‚   â”‚       â”œâ”€â”€ atlantis-gates.yml
# â”‚   â”‚       â””â”€â”€ deep-caverns.yml
# â”‚   â”œâ”€â”€ pvp/                 # âš”ï¸ Player vs Player
# â”‚   â”‚   â”œâ”€â”€ arena-coordinates.yml  # Coordinate-based triggers
# â”‚   â”‚   â”œâ”€â”€ battlegrounds-regions.yml # WorldGuard regions
# â”‚   â”‚   â”œâ”€â”€ factions-war.yml      # Faction territories
# â”‚   â”‚   â””â”€â”€ tournaments.yml       # Event areas
# â”‚   â”œâ”€â”€ villages/            # ğŸ˜ï¸ NPC settlements
# â”‚   â”‚   â”œâ”€â”€ starter-village.yml   # Newbie area
# â”‚   â”‚   â”œâ”€â”€ merchant-town.yml     # Trading hub
# â”‚   â”‚   â””â”€â”€ quest-outpost.yml     # Adventure starting point
# â”‚   â”œâ”€â”€ wilderness/          # ğŸŒ² Open world
# â”‚   â”‚   â”œâ”€â”€ random-spawn.yml      # Survival spawns
# â”‚   â”‚   â”œâ”€â”€ resource-areas.yml    # Mining/farming zones
# â”‚   â”‚   â””â”€â”€ exploration.yml       # Discovery locations
# â”‚   â””â”€â”€ transport/           # ğŸš‚ Travel systems
# â”‚       â”œâ”€â”€ waypoints.yml         # Fast travel points
# â”‚       â”œâ”€â”€ portals.yml           # Dimension gates
# â”‚       â””â”€â”€ airships.yml          # Flying transport
# â”œâ”€â”€ world_nether/             # ğŸ”¥ Nether dimension
# â”‚   â”œâ”€â”€ fortresses/          # ğŸ° Nether structures
# â”‚   â”‚   â”œâ”€â”€ blaze-farm.yml        # Mob farming areas
# â”‚   â”‚   â””â”€â”€ wither-arena.yml      # Boss fights
# â”‚   â”œâ”€â”€ emergency/           # ğŸš¨ Safety systems
# â”‚   â”‚   â”œâ”€â”€ safety-exits.yml      # Emergency teleports
# â”‚   â”‚   â””â”€â”€ rescue-points.yml     # Recovery areas
# â”‚   â””â”€â”€ highways/            # ğŸ›¤ï¸ Nether transportation
# â”‚       â”œâ”€â”€ main-hub.yml          # Central station
# â”‚       â””â”€â”€ tunnel-exits.yml      # Highway endpoints
# â”œâ”€â”€ world_the_end/            # ğŸŒŒ End dimension
# â”‚   â”œâ”€â”€ dragon-fight/        # ğŸ² Boss encounter
# â”‚   â”‚   â”œâ”€â”€ platform-spawns.yml   # Fighting arena
# â”‚   â”‚   â””â”€â”€ spectator-area.yml    # Observation deck
# â”‚   â”œâ”€â”€ end-cities/          # ğŸ™ï¸ End structures
# â”‚   â”‚   â”œâ”€â”€ exploration.yml       # City exploration
# â”‚   â”‚   â””â”€â”€ elytra-course.yml     # Flying challenges
# â”‚   â””â”€â”€ void-safety/         # ğŸ•³ï¸ Void protection
# â”‚       â””â”€â”€ emergency-platforms.yml
# â”œâ”€â”€ custom_dimensions/        # ğŸŒˆ Modded/Custom worlds
# â”‚   â”œâ”€â”€ skyblock/
# â”‚   â”‚   â”œâ”€â”€ island-spawns.yml     # Island management
# â”‚   â”‚   â””â”€â”€ void-protection.yml   # Fall safety
# â”‚   â”œâ”€â”€ creative/
# â”‚   â”‚   â”œâ”€â”€ plot-spawns.yml       # Creative plots
# â”‚   â”‚   â””â”€â”€ showcase-areas.yml    # Build displays
# â”‚   â””â”€â”€ minigames/
# â”‚       â”œâ”€â”€ parkour.yml           # Jumping courses
# â”‚       â”œâ”€â”€ spleef.yml            # Digging games
# â”‚       â””â”€â”€ races.yml             # Speed competitions
# â”œâ”€â”€ global/                   # ğŸŒ Cross-world configurations
# â”‚   â”œâ”€â”€ ranks/               # ğŸ‘‘ Permission-based spawns
# â”‚   â”‚   â”œâ”€â”€ vip-access.yml        # Premium player areas
# â”‚   â”‚   â”œâ”€â”€ staff-areas.yml       # Admin/mod zones
# â”‚   â”‚   â””â”€â”€ donor-rewards.yml     # Supporter benefits
# â”‚   â”œâ”€â”€ events/              # ğŸ‰ Special occasions
# â”‚   â”‚   â”œâ”€â”€ seasonal/
# â”‚   â”‚   â”‚   â”œâ”€â”€ christmas.yml     # Holiday events
# â”‚   â”‚   â”‚   â”œâ”€â”€ halloween.yml     # Spooky season
# â”‚   â”‚   â”‚   â””â”€â”€ summer-fest.yml   # Seasonal celebrations
# â”‚   â”‚   â”œâ”€â”€ competitions/
# â”‚   â”‚   â”‚   â”œâ”€â”€ build-contest.yml # Building competitions
# â”‚   â”‚   â”‚   â””â”€â”€ pvp-tournament.yml # Combat events
# â”‚   â”‚   â””â”€â”€ server-anniversary.yml # Special milestones
# â”‚   â”œâ”€â”€ maintenance/         # ğŸ”§ Server management
# â”‚   â”‚   â”œâ”€â”€ fallback-spawns.yml   # Emergency spawns
# â”‚   â”‚   â”œâ”€â”€ testing-area.yml      # Admin testing zone
# â”‚   â”‚   â””â”€â”€ quarantine.yml        # Problem isolation
# â”‚   â””â”€â”€ integration/         # ğŸ”— Plugin compatibility
# â”‚       â”œâ”€â”€ mythicdungeons.yml    # Dungeon plugin support
# â”‚       â”œâ”€â”€ factions-bypass.yml   # Faction integration
# â”‚       â””â”€â”€ jobs-areas.yml        # Economy plugin zones
# â””â”€â”€ examples.txt              # ğŸ“– This documentation file
#
# Each .yml file must contain a top-level key: spawns
#
# ================================================================
# ğŸ’¡ PROFESSIONAL TIPS
# ================================================================
#
# ğŸ¯ NAMING CONVENTIONS:
# - Use descriptive, lowercase names with hyphens
# - Group related spawns in folders by functionality
# - Prefix temporary configs with "temp-" for easy cleanup


# ================================================================
# ğŸ”Œ Hooks and strict validation
# ================================================================
# - WorldGuard integration (kind: region):
#     Requires main-config.hooks.useWorldGuard=true AND WorldGuard plugin installed.
#     The validator will FAIL if you define region spawns without WG enabled & present.
#
# - PlaceholderAPI (placeholders in conditions/actions):
#     Requires main-config.hooks.usePlaceholderAPI=true AND PlaceholderAPI installed.
#     The validator will FAIL if placeholders are used without PAPI enabled & present.


# ================================================================
# ğŸ”¢ Priorities (how entries are ordered)
# ================================================================
# - Priority is OPTIONAL in spawn entries. If not specified, defaults from main config are used:
#     â€¢ coordinate: config.yml â†’ settings.defaultPriorities.coordinate (default: 100)
#     â€¢ region: config.yml â†’ settings.defaultPriorities.region (default: 50)
#     â€¢ world: config.yml â†’ settings.defaultPriorities.world (default: 10)
#
# - Higher number = higher priority (0..9999)
# - First matching spawn with highest priority is used
#
# Strategy tips:
# - For simple setups: rely on main config defaults, adjust only when needed
# - For map packs: use very high priorities (1500+) to override client's defaults
# - Always include a low-priority world fallback for safety


# ================================================================
# ğŸ§­ General tips
# ================================================================
# - Omit Y axis in triggerArea if height doesn't matter:
#   This ensures the area triggers regardless of player altitude (useful for multi-floor dungeons)
#
# - groundWhitelist behavior:
#   When specified, it REPLACES globalGroundBlacklist from main config for that destination
#   You explicitly control which blocks are safe to stand on
#
# - Waiting rooms:
#   Automatically used when destination.requireSafe=true and safe location search is needed
#   You can define per-entry waitingRoom or rely on global one from main config
#
# - Performance tips:
#   â€¢ Use requireSafe=false for guaranteed safe locations
#   â€¢ Prefer smaller coordinate ranges over huge areas
#   â€¢ Keep weighted destinations count reasonable (5-10 max per entry)
#
# - Debugging:
#   Enable settings.debugMode=true in config.yml to see priority order and detailed logs
#
# - Party system:
#   Use partyRespawnDisabled: true in PvP areas or other restricted zones


# ================================================================
# âœ… Example 1: Simple world join spawn (hub)
# ================================================================
# Players joining "world" get teleported to exact coordinates
# File: spawnpoints/world/hub.yml

spawns:
  - kind: world
    event: join
    world: world
    destinations:
      - world: world
        requireSafe: false
        x: 0
        y: 64
        z: 0
        yaw: 180
        pitch: 0
        actions:
          messages:
            - text: "<green>Welcome to the hub!"
              phases:
                - AFTER


# ================================================================
# âœ… Example 2: Coordinate area with safe search
# ================================================================
# Deaths in area [-100..100, any Y, -100..100] â†’ search for safe spot in smaller area
# Note: triggerArea.y is omitted = works at any height
# File: spawnpoints/world/death-area.yml

spawns:
  - kind: coordinate
    event: death
    triggerArea:
      world: world
      x:
        min: -100
        max: 100
      z:
        min: -100
        max: 100
    destinations:
      - world: world
        requireSafe: true
        x:
          min: -50
          max: 50
        z:
          min: -50
          max: 50
        groundWhitelist:
          - STONE
          - GRASS_BLOCK
          - DIRT
        actions:
          messages:
            - text: "<green>Found a safe spot nearby!"
              phases:
                - AFTER
    actions:
      messages:
        - text: "<yellow>Searching for safe location..."
          phases:
            - WAITING_ROOM
    waitingRoom:
      world: world
      x: 0
      y: 120
      z: 0

# Notes on groundWhitelist (how safe search works):
# - groundWhitelist only has effect when requireSafe: true.
# - It REPLACES globalGroundBlacklist, but ONLY for the ground block under the playerâ€™s feet (y-1).
# - globalPassableBlacklist still applies to feet/head (water, lava, cobweb, powder snow, etc.).
# - Fixed-point search: if x/z are fixed values and requireSafe is true, the plugin searches around that point within settings.safeLocationRadius (expands radius mid-way if needed).
# - Area search: if x/z are ranges and requireSafe is true, the plugin searches INSIDE the specified rectangle.
# - Y selection:
#  - Overworld uses the strategy from settings.teleport.ySelection (mixed/highest/random).
#  - Nether uses a solid-ground-with-2-air check within configured bounds.
# - Fallback behavior:
#   - If no whitelisted ground is found within settings.maxSafeLocationAttempts, the current implementation falls back (e.g., world spawn or area center). If you need â€œstrictâ€ behavior (no fallback), return null from the finder and handle it via waiting room timeout.
# - Tips:
#   - Keep search areas reasonable in size.
#   - Increase safeLocationRadius and/or maxSafeLocationAttempts if your whitelist is rare.
#   - Prefer requireSafe: false for known-safe, prebuilt spawn pads.


# ================================================================
# âœ… Example 3: WorldGuard region spawn (requires WorldGuard)
# ================================================================
# Players dying/joining in region "spawn" â†’ two weighted destinations
# File: spawnpoints/world/region-spawn.yml

spawns:
  - kind: region
    event: both
    priority: 800
    region: spawn
    regionWorld: world
    destinations:
      - world: world
        requireSafe: true
        x:
          min: -10
          max: 10
        z:
          min: -10
          max: 10
        weight: 70
      - world: world
        requireSafe: true
        x: 20
        z: 20
        weight: 30
    actions:
      messages:
        - text: "<gray>Region spawn activated"
          phases:
            - BEFORE
    partyRespawnDisabled: true


# ================================================================
# âœ… Example 4: Advanced weighted spawns with conditions
# ================================================================
# VIP players get higher chance for better spawn point
# File: spawnpoints/world/vip-spawn.yml

# Expressions syntax (for permissions/placeholders):
# - Operators: ! (not), && (and), || (or)
# - Comparisons (placeholders): ==, !=, >, >=, <, <=
# - Parentheses: ( ... )
# - Tokens:
#   â€¢ permission: mmospawnpoint.vip, my.perm.node (bare tokens)
#   â€¢ negation: !mmospawnpoint.vip
#   â€¢ combined: (mmospawnpoint.join && !mmospawnpoint.ban) || mmospawnpoint.staff
#   â€¢ placeholders: "%vault_eco_balance% >= 1000", "%player_gamemode% == 'SURVIVAL'"

spawns:
  - kind: world
    event: join
    world: world
    destinations:
      - world: world
        requireSafe: false
        x: -10
        y: 64
        z: -10
        weight: 100
      - world: world
        requireSafe: false
        x: 10
        y: 64
        z: 10
        weight: 50
        weightConditions:
          - type: permission
            value: "mmospawnpoint.vip"
            weight: 200
    conditions:
      permissions:
        - mmospawnpoint.join
      placeholders:
        - "%player_gamemode% == 'SURVIVAL'"
    actions:
      messages:
        - text: "<green>Conditions passed, teleporting..."
          phases:
            - BEFORE

# Notes:
# - Placeholder expressions require: hooks.usePlaceholderAPI=true and PlaceholderAPI installed
# - YAML: strings with expressions must be quoted: "!mmospawnpoint.vip"

# ================================================================
# âœ… Example 5: Regex patterns for flexible matching
# ================================================================
# Match multiple worlds with regex pattern
# File: spawnpoints/global/dungeon-worlds.yml

spawns:
  - kind: world
    event: death
    world: "dungeon_.*"
    worldMatchMode: regex
    destinations:
      - world: world
        requireSafe: true
        x: 0
        y: 64
        z: 0
    actions:
      messages:
        - text: "<red>Escaped from dungeon!"
          phases:
            - AFTER


# ================================================================
# âš ï¸ Example 6: "Void Trap" using setspawnpoint command
# ================================================================
# Actions-only spawn that sets player's bed spawn to current location
# Creates a "trap" where player will respawn here on future deaths
#
# IMPORTANT: Requires PlaceholderAPI + Player expansion for %player_world%, %player_x% etc.
#
# How it works:
# - Uses plugin command "msp setspawnpoint" to forcibly set player's vanilla respawn point
# - Plugin uses force=true, so no actual bed is required
# - On future deaths, if no higher-priority MMOSpawnPoint rules match,
#   server will respawn player at this bed location (the "trap")
# - Works across dimensions (overworld/nether/end)
#
# File: spawnpoints/global/void-trap.yml

spawns:
  - kind: world
    event: death
    priority: 1900
    world: cursed_world
    destinations: []
    actions:
      messages:
        - text: "<dark_gray>[<red>Curse</red>] <gray>Your soul is now bound to this realm..."
          phases:
            - BEFORE
      commands:
        - command: "msp setspawnpoint %player% %player_world% %player_x% %player_y% %player_z% %player_yaw% %player_pitch%"
          chance: 100
          phases:
            - AFTER

# Warning: Ensure target world exists and no higher-priority death spawns override this trap


# ================================================================
# âœ… Example 7: Complex command conditions with multiple chances
# ================================================================
# Commands with different chances based on player conditions
# File: spawnpoints/world/mining-rewards.yml

spawns:
  - kind: coordinate
    event: death
    triggerArea:
      world: world
      x:
        min: 1000
        max: 2000
      z:
        min: 1000
        max: 2000
    destinations:
      - world: world
        requireSafe: false
        x: 1500
        y: 64
        z: 1500
    actions:
      commands:
        - command: "give %player% diamond 1"
          chance: 10
          chanceConditions:
            - type: permission
              value: "mmospawnpoint.vip"
              weight: 25
        - command: "give %player% emerald 5"
          chance: 0
          chanceConditions:
            - type: placeholder
              value: "%player_level% > 50"
              weight: 100
        - command: "give %player% iron_ingot 3"
          chance: 30
          phases:
            - AFTER


# ================================================================
# âœ… Example 8: Low-priority world fallback (safety net)
# ================================================================
# Recommended safety net: always have one low-priority world spawn
# Catches players who die "in the middle of nowhere"
# File: spawnpoints/global/fallback.yml

spawns:
  - kind: world
    event: death
    priority: 50
    world: world
    destinations:
      - world: world
        requireSafe: true
        x:
          min: -100
          max: 100
        z:
          min: -100
          max: 100
    actions:
      messages:
        - text: "<yellow>Fallback spawn - searching for safe location..."
          phases:
            - WAITING_ROOM


# ================================================================
# âœ… Example 9: Multiple match modes showcase
# ================================================================
# Shows different matching strategies in one file
# File: spawnpoints/global/match-examples.yml

spawns:
  # Exact region match
  - kind: region
    event: death
    region: boss_room
    regionMatchMode: exact
    regionWorld: dungeon_world
    destinations:
      - world: world
        x: 0
        y: 64
        z: 0

# Regex region pattern (matches boss_room_1, boss_room_2, etc.)
  - kind: region
    event: death
    region: "boss_room_\\d+"
    regionMatchMode: regex
    destinations:
      - world: world
        x: 100
        y: 64
        z: 100

# Multiple world pattern
  - kind: world
    event: join
    world: "(creative|building)_world"
    worldMatchMode: regex
    destinations:
      - world: world
        x: 0
        y: 64
        z: 0

# ================================================================
# âœ… Example 10: VIP Tiers with Economy-Based Upgrades
# ================================================================
# Demonstrates advanced command conditions and economy integration
# VIP players get closer spawn, rich players get premium menu access
# File: spawnpoints/world/vip-economy-spawn.yml

spawns:
  - kind: world
    event: death
    priority: 1500
    world: world
    conditions:
      permissions:
        - "mmospawnpoint.vip"
    destinations:
      # VIP Destination 1: Close premium spawn for VIP players
      - world: world
        requireSafe: true
        x:
          min: 0
          max: 20
        z:
          min: 0
          max: 20
        weight: 80
        actions:
          messages:
            - text: "<gold>ğŸŒŸ VIP spawn activated - premium location!"
              phases:
                - AFTER
          commands:
            # Economy-conditional premium menu access
            - command: "dm open premium_spawn_menu %player%"
              chance: 0
              phases:
                - AFTER
              chanceConditions:
                - type: permission
                  value: "mmospawnpoint.vip"
                  weight: 100
            # VIP-only healing boost
            - command: "effect give %player% minecraft:regeneration 30 2"
              chance: 100
              phases:
                - AFTER
      # VIP Destination 2: Fallback spawn for VIP (further away)
      - world: world
        requireSafe: true
        x:
          min: 50
          max: 100
        z:
          min: 50
          max: 100
        weight: 20
        actions:
          messages:
            - text: "<yellow>ğŸ¥‰ VIP fallback spawn - standard location"
              phases:
                - AFTER
            # Different upgrade offer for rich players at fallback spawn (New minimessage formatting, only for 1.18+)
            - text: "<gold>ğŸ’° You have enough money! <click:run_command:'/upgrade premium_spawn'><underlined>Click to upgrade to premium spawn</underlined></click>"
              chance: 0
              phases:
                - AFTER
              chanceConditions:
                - type: placeholder
                  value: "%vault_eco_balance_fixed% >= 500"
                  weight: 100
          commands:
            # Rich players still get menu even at fallback spawn
            - command: "dm open standard_spawn_menu %player%"
              chance: 0
              phases:
                - AFTER
              chanceConditions:
                - type: placeholder
                  value: "%vault_eco_balance_fixed% < 500"
                  weight: 100
            # Different upgrade offer for rich players at fallback spawn (Legacy JSON formatting, example for 1.16-1.17)
            - command: "tellraw %player% {\"text\":\"ğŸ’° You have enough money! Click to upgrade to premium spawn\",\"color\":\"gold\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/upgrade premium_spawn\"}}"
              chance: 0
              phases:
                - AFTER
              chanceConditions:
                - type: placeholder
                  value: "%vault_eco_balance_fixed% >= 500"
                  weight: 100
    actions:
      messages:
        - text: "<blue>ğŸ” Searching for VIP spawn location..."
          phases:
            - WAITING_ROOM
        - text: "<green>âœ¨ VIP processing complete!"
          phases:
            - BEFORE


# ================================================================
# âœ… Example 11: Rect-based Areas (Triangles and Legacy XYZ Mapping)
# ================================================================
# This example demonstrates:
# - How rects/excludeRects are used to shape complex zones
# - That legacy x/y/z axes are internally mapped to a single rect under the hood
# File: spawnpoints/world/rects-triangle.yml

spawns:
  - kind: coordinate
    event: death
    priority: 1600
    triggerArea:
      world: world
      # Legacy axes: internally converted to a single rect (x/z range, optional y)
      x:
        min: 1000
        max: 1200
      z:
        min: 1000
        max: 1200
      # y omitted => any height
    destinations:
      - world: world
        requireSafe: true
        # Triangle-like area using few rects + one exclude rect to carve a corner
        rects:
          # Base rectangle
          - x: { min: 1000, max: 1160 }
            z: { min: 1000, max: 1160 }
            y: { min: 60, max: 90 }
          # Second rectangle to extend diagonal
          - x: { min: 1080, max: 1200 }
            z: { min: 1040, max: 1160 }
            y: { min: 60, max: 90 }
        excludeRects:
          # Carve out a corner to approximate a triangle
          - x: { min: 1160, max: 1200 }
            z: { min: 1160, max: 1200 }
            y: { min: 60, max: 90 }

          # Legend:
          # - # = included by rects
          # - X = excluded by excludeRects
          # - . = outside
          #
          # Grid (coarse, top-down):
          # ........................
          # ....##########..........
          # ....##########..........
          # ....##########..........
          # ......##########........
          # ......##########........
          # .........#########......
          # .........#########......
          # ............#####XX.....
          # ............#####XX.....
          # ........................

        weight: 100
        actions:
          messages:
            - text: "<gray>Rect-based safe search (triangle-like area)"
              phases:
                - BEFORE
            - text: "<yellow>â³ Please wait while we search a safe spot within the shaped area..."
              phases:
                - WAITING_ROOM

# Notes:
# - Legacy x/y/z axes on destinations or triggerAreas are internally mapped to a single rect at runtime.
# - If you use a lot of reacts, it is recommended to write them in a single line format like "x: { min: 1000, max: 1160 }" for easy reading of yml.

# ================================================================
# âœ… Example 12: Chance Modes (set/add/mul) with Rects
# ================================================================
# Demonstrates how message/command chances can be composed via condition modes.
# Default mode is 'set'.
# File: spawnpoints/world/chance-modes-rects.yml

spawns:
  - kind: coordinate
    event: join
    priority: 1700
    triggerArea:
      world: world
      rects:
        - x:
            min: -500
            max: -300
          z:
            min: 200
            max: 400
    destinations:
      # Destination A (nearer area)
      - world: world
        requireSafe: false
        rects:
          - x:
              min: -480
              max: -320
            z:
              min: 220
              max: 380
            y: 70
        weight: 80
        weightConditions:
          # VIPs prefer Destination A: base 80 â†’ +40 = 120
          - type: permission
            value: "mmospawnpoint.vip"
            mode: add
            weight: 40
          # Rich players (>=1000) multiply A again: 120 * 2 = 240
          - type: placeholder
            value: "%vault_eco_balance_fixed% >= 1000"
            mode: mul
            weight: 2
        actions:
          messages:
            # Base chance 10%; +40 if member; *2 if rich
            - text: "<green>Welcome to the bonus area A!"
              chance: 10
              phases:
                - AFTER
              chanceConditions:
                - type: permission
                  value: "mmospawnpoint.member"
                  mode: add
                  weight: 40
                - type: placeholder
                  value: "%vault_eco_balance_fixed% >= 1000"
                  mode: mul
                  weight: 2
            # Strict override to 100% for VIPs at A
            - text: "<gold>Exclusive perks unlocked at A!"
              chance: 0
              phases:
                - AFTER
              chanceConditions:
                - type: permission
                  value: "mmospawnpoint.vip"
                  mode: set
                  weight: 100
          commands:
            # Command chance composition: base 30%, -10 if balance <100, *2 if VIP
            - command: "effect give %player% minecraft:speed 15 1"
              chance: 30
              phases:
                - AFTER
              chanceConditions:
                - type: placeholder
                  value: "%vault_eco_balance_fixed% < 100"
                  mode: add
                  weight: -10
                - type: permission
                  value: "mmospawnpoint.vip"
                  mode: mul
                  weight: 2
      # Destination B (further area)
      - world: world
        requireSafe: false
        rects:
          - x:
              min: -600
              max: -520
            z:
              min: 300
              max: 460
            y: 70
        weight: 60
        weightConditions:
          # If not VIP â†’ +20 (makes B slightly more likely for non-VIP: 60 â†’ 80)
          - type: permission
            value: "!mmospawnpoint.vip"
            mode: add
            weight: 20
          # If the balance is < 100 â†’ multiply the weight by 2: 80 * 2 = 160 (for homeless people, it tends towards B)
          - type: placeholder
            value: "%vault_eco_balance_fixed% < 100"
            mode: mul
            weight: 2
        actions:
          messages:
            - text: "<yellow>Arrived to area B"
              chance: 100
              phases:
                - AFTER

# Notes:
# - By default, mode=set; final values of chance are clamped to [0..100], weight â€” minimum 1.


# ================================================================
# ğŸ§© For map creators (practical guide)
# ================================================================

# â”€â”€â”€ Priority Strategy â”€â”€â”€
# Option A: Use very high priorities (1500+) to override client's main config defaults
# Option B: Rely on client's main config defaults and adjust only when needed
# Both approaches are valid - choose based on your project needs

# â”€â”€â”€ Fallback Strategy â”€â”€â”€
# Always include a low-priority world spawn as safety net:

spawns:
  - kind: world
    event: death
    priority: 100  # Low priority fallback
    world: world
    destinations:
      - world: world
        requireSafe: true
        x:
          min: -50
          max: 50
        z:
          min: -50
          max: 50

# â”€â”€â”€ Optional Premium Features â”€â”€â”€
# If your map uses optional plugins, comment them out with clear instructions:

# spawns:
#   - kind: world
#     event: death
#     world: world
#     conditions:
#      # Requires MMOCore plugin:
#      # placeholders:
#      # - "%mmocore_level% > 20"
#      # - "%mmocore_class% == 'WARRIOR'"
#     destinations:
#       - world: world
#         x: 0
#         y: 64
#         z: 0

# â”€â”€â”€ Area Design Tips â”€â”€â”€
# â€¢ Omit triggerArea.y for multi-floor dungeons (matches any height)
# â€¢ Place specific areas before general ones (priority-wise)
# â€¢ Test with /msp simulate death and /msp simulate join commands

# â”€â”€â”€ WorldGuard Integration â”€â”€â”€
# If using regions, ensure your clients have WorldGuard enabled:
# 1. hooks.useWorldGuard=true in main config
# 2. WorldGuard plugin installed
# 3. Regions properly defined

# â”€â”€â”€ Performance Considerations â”€â”€â”€
# â€¢ Prefer requireSafe=false for known safe locations
# â€¢ Limit weighted destinations per spawn (5-10 max)
# â€¢ Group related spawns in same files for better organization

# â”€â”€â”€ Testing Commands â”€â”€â”€
# â€¢ /msp simulate death    - test death spawns at current location
# â€¢ /msp simulate join     - test join spawns at current location
# â€¢ /msp simulate back     - return to previous location
# â€¢ /msp cache stats       - check safe location cache statistics
# â€¢ /msp cache clear       - clear safe location cache for testing


# ================================================================
# ğŸ—ƒï¸ Quick reference (most common patterns)
# ================================================================

# Basic world spawn:
spawns:
  - kind: world
    event: join
    world: world
    destinations:
      - world: world
        x: 0
        y: 64
        z: 0

# Basic region spawn (requires WorldGuard):
spawns:
  - kind: region
    event: death
    region: spawn
    regionWorld: world
    destinations:
      - world: world
        requireSafe: true
        x:
          min: -10
          max: 10
        z:
          min: -10
          max: 10


# Basic coordinate area:
spawns:
  - kind: coordinate
    event: death
    triggerArea:
      world: world
      x:
        min: 100
        max: 200
      z:
        min: 100
        max: 200
    destinations:
      - world: world
        requireSafe: true
        x: 150
        z: 150

# Actions only (no teleport):
spawns:
  - kind: world
    event: death
    world: world
    actions:
      messages:
        - text: "<red>You died!"
      commands:
        - command: "heal %player%"
          chance: 100


# ================================================================
# ğŸ“š Full feature showcase
# ================================================================
# This example demonstrates most available features:

spawns:
  - kind: coordinate
    event: both
    priority: 1500
    triggerArea:
      world: world
      worldMatchMode: exact
      x:
        min: 500
        max: 1000
      z:
        min: 500
        max: 1000
    destinations:
      - world: world
        requireSafe: true
        x:
          min: 700
          max: 800
        z:
          min: 700
          max: 800
        yaw:
          min: 0
          max: 360
        weight: 80
        weightConditions:
          - type: permission
            value: "mmospawnpoint.vip"
            weight: 120
          - type: placeholder
            value: "%player_level% > 50"
            weight: 110
        waitingRoom:
          world: world
          x: 750
          y: 200
          z: 750
          yaw: 180
          pitch: 0
        actions:
          messages:
            - text: "<green>Premium destination reached!"
              phases:
                - AFTER
          commands:
            - command: "effect give %player% minecraft:speed 30 1"
              chance: 100
              phases:
                - AFTER
        actionExecutionMode: after
        groundWhitelist:
          - STONE
          - COBBLESTONE
      - world: world
        requireSafe: false
        x: 600
        y: 64
        z: 600
        weight: 20
        actions:
          messages:
            - text: "<yellow>Standard spawn point"
              phases:
                - AFTER
        actionExecutionMode: before
    conditions:
      permissions:
        - "mmospawnpoint.access && (mmospawnpoint.vip || mmospawnpoint.member)"
      placeholders:
        - "%player_gamemode% == 'SURVIVAL'"
        - "%vault_eco_balance% > 100"
    actions:
      messages:
        - text: "<blue>Area conditions passed"
          phases:
            - BEFORE
        - text: "<gray>Searching for best spawn point..."
          phases:
            - WAITING_ROOM
      commands:
        - command: "title %player% subtitle \"<gray>Welcome to the area\""
          mode: set
          chance: 100
          phases:
            - BEFORE
    waitingRoom:
      world: world
      x: 750
      y: 150
      z: 750
      yaw: 0
      pitch: 0
    partyRespawnDisabled: false
